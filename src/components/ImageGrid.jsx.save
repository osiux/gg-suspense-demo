sdad:!nimport React, { Suspense } from "react";
import { unstable_createResource } from "react-cache";

import Row from "gumdrops/Row";
import Column from "gumdrops/Column";
import LoadingDots from "gumdrops/LoadingDots";

export const ImageResource = unstable_createResource(source => {
    return new Promise(resolve => {
        const img = new Image();
        console.log(img);
        img.src = source;
        img.onload = resolve;
    });
});

const Img = ({ src, alt, ...props }) => {
    ImageResource.read(src);
    return <img src={src} alt={alt} {...props} />;
};

const Image = ({ images }) => {
    return (
        <Row className="-m-t-3">
            {images.map((image, index) => (
                <Column key={index} md={3}>
                    <Suspense fallback={<LoadingDots />}>
                        <Img src={image} alt="Cat" />
                    </Suspense>
                </Column>
            ))}
        </Row>
    );
};

export default Image;
